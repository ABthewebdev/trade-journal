{% extends 'main/base.html' %}
{% load custom_filters %}

{% block title %}Your profile{% endblock title %}

{% block content %}
<div>
    <div class="d-flex justify-content-evenly mb-6">
        <div>
            <h1>Futures P&L</h1>
            <h2>Win percentage: {{futures_percentage}}%</h2>
            <h2>Average win: {{average_futures_win}}</h2>
            <h2>Average loss: {{average_futures_loss}}</h2>
            <h2>
                {% if futures_p_and_l > 0.00 %}
                    Totals: +{{futures_p_and_l}}
                {% elif futures_p_and_l < 0.00 %}
                    Totals: {{futures_p_and_l}}
                {% endif %}
            </h2>
        </div>
        <div>
            <h1>Options P&L</h1>
            <h2>Win percentage: {{options_percentage}}%</h2>
            <h2>Average win: {{average_options_win}}</h2>
            <h2>Average loss: {{average_options_loss}}</h2>
            <h2>
                {% if options_p_and_l > 0.00 %}
                    Totals: +{{options_p_and_l}}
                {% elif futures_p_and_l < 0.00 %}
                    Totals: {{options_p_and_l}}
                {% endif %}
            </h2>
        </div>
    </div>
    <div class="text-center">
        <h2>All of your setups</h2>
        <ul class="d-flex flex-row flex-wrap list-group">
            {% for strategy in strategies %}
                <li class="list-group-item bg-black" style="font-weight: bolder; font-size: larger;"><a href="/setups/{{strategy.reason}}">{{ strategy.reason }}</a></li>
            {% endfor %}
        </ul>
    </div>
</div>
<h2 class="text-center">Trade dates</h2>
<div class="d-flex flex-row flex-wrap gap-4">
    {% for date in unique_dates %}
        <a href="/{{ date|date:'Y-m-d' }}"><h3>{{ date }}</h3></a>
    {% endfor %}
</div>
{% endblock content %}